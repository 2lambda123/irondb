
<% for (var r = 0; r < Results.length; r++) { %>
    <% var currentObj = JSON.parse(Results[r]);%>

    <% var rowCount  = Object.keys(currentObj.Table[0]).length; %>
    <% var columnCount = Object.keys(currentObj.Table).length; %>

    <div class="table mt-3">
        <div class="row">
            <h4 class="table-label">Table (Appears on page <%= currentObj.pdf_page %> of PDF)
                <i class="far fa-times-circle fa-lg remove-table text-danger" title="Press to remove this table."></i>
            </h4>
        </div>

        <div class="row page-row">
            <div class="form-group">
                <label>Page Number:
                    <input class="pl-2" type="number" value="<%= currentObj.actual_page %>">
                </label>
            </div>
        </div>
        

        <div class="embedded-values">
            <!-- Emmbedding row and column lengths -->
            <p class="row-count" hidden="true"><%= rowCount %></p>
            <p class="col-count" hidden="true"><%= columnCount %></p>
        </div>
        
        <table class="table table-sm table-responsive">
            <tbody>
                <!-- First row all analysis technique -->
                <% for(var i = 0; i < columnCount; i++) { %>
                    <th>
                        <select class="form-control">
                            <option value="None">None</option>
                            <% for(var k=0; k < Technique.length; k++) { %>
                                <option value="<%= Technique[k].abbreviation%>"><%= Technique[k].abbreviation %></option> 
                            <% } %>                   
                        </select>
                    </th>
                <% } %>


                <!-- Data rows -->
                <% for(let i=0; i < rowCount; i++) { %>
                    <tr>
                    <% for(let j=0; j < columnCount; j++) { %>
                        <% if (currentObj.Table[j][i] === null) { %>
                            <th><input type="text" value=""></th>
                        <% } else { %>
                            <th><input type="text" value="<%= currentObj.Table[j][i] %>"></th>
                        <% } %>
                    <% } %>
                    </tr>

                <% } %>
            </tbody>
        </table>
    </div>
<% } %>
